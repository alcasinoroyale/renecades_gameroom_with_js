<h2><%= @game.name %></h2>
<%= @game.description %><br>
<%= @game.objective %><br><br>

Created By: <%= @game.creator.username %><br>
Number of Players: <%= @game.number_of_players %><br>
Reward Points: <%= @game.reward_points %><br>
Genre: <%= @game.genre %><br><br>

<% if @current_user %>
<%= form_for @token do |f| %>
  <%= f.hidden_field :game_id %>
  <%= f.hidden_field :user_id %>
  <%= f.submit "Play this game" %>
<% end %>
<% end %>

<br>
<br>
<%= link_to "Edit Game", edit_game_path(@game) if @game.creator_id == @current_user.id %>

<div>
  <button class-"js-nextgame" data-id="<%= @game.id %>">Next Game</button>
</div>

<script type="text/javascript" charset="utf-8">
function Game(id, name, description, objective, number_of_players, reward_points, genre){
  this.id = id;
  this.name = name
};

$(function() {
  $(".js-nextgame").on("click", function() {
    const nextId = $(this).data("id") + 1;
    $.get("/games" + nextId + ".json", function(data){
      const game = data;
      $(".gameName").text(game["name"]);
      $(".gameDescription").text(game["description"]);
      $(".gameObjective").text(game["objective"]);
      $(".gameNumberOfPlayers").text(game["number_of_players"]);
      $(".gameRewardPoints").text(game["reward_points"]);
      $(".gameGenre").text(game["genre"]);
      $(".js-nextgame").attr("data-id", game["id"]);
    });
    });
  });
</script>
